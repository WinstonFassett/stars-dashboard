var Kt=Object.defineProperty;var o=(e,t)=>Kt(e,"name",{value:t,configurable:!0});var oe,le,ue;import{html as v}from"../../_npm/htl@0.3.1/_esm.js";import{AbstractFile as Ht}from"../stdlib.js";var Wt=Object.defineProperty,Ne=o((e,t)=>Wt(e,"name",{value:t,configurable:!0}),"i");function Ze(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),l=e.getUTCMilliseconds();return`${Ge(e.getUTCFullYear())}-${C(e.getUTCMonth()+1,2)}-${C(e.getUTCDate(),2)}${n||i||r||l?`T${C(n,2)}:${C(i,2)}${r||l?`:${C(r,2)}${l?`.${C(l,3)}`:""}`:""}Z`:""}`}o(Ze,"c"),Ne(Ze,"format");function Ge(e){return e<0?`-${C(-e,6)}`:e>9999?`+${C(e,6)}`:C(e,4)}o(Ge,"f"),Ne(Ge,"formatYear");function C(e,t){return`${e}`.padStart(t,"0")}o(C,"t$2"),Ne(C,"pad");var Bt=Object.defineProperty,Vt=o((e,t)=>Bt(e,"name",{value:t,configurable:!0}),"t$1");const Zt=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Je(e,t){return Zt.test(e+="")?new Date(e):typeof t=="function"?t(e):t}o(Je,"r"),Vt(Je,"parse");var Gt=Object.defineProperty,a=o((e,t)=>Gt(e,"name",{value:t,configurable:!0}),"o");function _(e){return e==null?null:typeof e=="number"?`${e}px`:`${e}`}o(_,"F"),a(_,"length");function I(e){return{"--input-width":_(e)}}o(I,"R"),a(I,"maybeWidth");const Ae={bubbles:!0};function G(e){e.preventDefault()}o(G,"G"),a(G,"preventDefault");function ne({currentTarget:e}){(e.form||e).dispatchEvent(new Event("input",Ae))}o(ne,"re"),a(ne,"dispatchInput");function Oe(e){return e.checkValidity()}o(Oe,"Se"),a(Oe,"checkValidity");function P(e){return e}o(P,"_"),a(P,"identity");let Jt=0;function re(){return`inputs-3a86ea-${++Jt}`}o(re,"ie"),a(re,"newId");function z(e,t){if(e)return e=v`<label>${e}`,t!==void 0&&(e.htmlFor=t.id=re()),e}o(z,"z"),a(z,"maybeLabel");function Qe(e="\u2261",{label:t="",value:n,reduce:i,disabled:r,required:l=!1,width:s}={}){const p=typeof e=="string"||e instanceof Node;p?(!l&&n===void 0&&(n=0),i===void 0&&(i=a((b=0)=>b+1,"reduce")),r=new Set(r?[e]:[]),e=[[e,i]]):(!l&&n===void 0&&(n=null),r=new Set(r===!0?Array.from(e,([b])=>b):r||void 0));const d=v`<form class=inputs-3a86ea>`;d.addEventListener("submit",G);const c={width:_(s)},h=Array.from(e,([b,N=P])=>{if(typeof N!="function")throw new TypeError("reduce is not a function");return v`<button disabled=${r.has(b)} style=${c} onclick=${$=>{d.value=N(d.value),ne($)}}>${b}`});return(t=z(t,p?h[0]:void 0))&&d.append(t),d.append(...h),d.value=n,d}o(Qe,"et"),a(Qe,"button");function K(e){return Array.isArray(e)?e:Array.from(e)}o(K,"q"),a(K,"arrayify");function Se(e){return e?typeof e[Symbol.iterator]=="function":!1}o(Se,"Ee"),a(Se,"iterable");function Te(e){if(Se(e.columns))return e.columns;if(e.schema&&Se(e.schema.fields))return Array.from(e.schema.fields,t=>t.name);if(typeof e.columnNames=="function")return e.columnNames()}o(Te,"Oe"),a(Te,"maybeColumns");function H(e){return e==null?"":`${e}`}o(H,"U"),a(H,"stringify");const de=ae(e=>{const t=ie(e);return n=>n==null?"":typeof n=="number"?t(n):n instanceof Date?pe(n):`${n}`}),ie=ae(e=>t=>t===0?"0":t.toLocaleString(e)),Qt=de(),Yt=ie();function Ee(e){const t=e.toString(),n=t.length;let i=-1,r;e:for(let l=1;l<n;++l)switch(t[l]){case".":i=r=l;break;case"0":i===0&&(i=l),r=l;break;default:if(!+t[l])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}o(Ee,"Te"),a(Ee,"formatTrim");function pe(e){return Ze(e,"Invalid Date")}o(pe,"le"),a(pe,"formatDate$1");function ae(e){let t=ae,n;return(i="en")=>i===t?n:n=e(t=i)}o(ae,"ue"),a(ae,"localize");function me(e,t){return J(t)-J(e)||(e<t?-1:e>t?1:e>=t?0:NaN)}o(me,"ae"),a(me,"ascending");function je(e,t){return J(t)-J(e)||(t<e?-1:t>e?1:t>=e?0:NaN)}o(je,"je"),a(je,"descending");function J(e){return e!=null&&!Number.isNaN(e)}o(J,"Q"),a(J,"defined");const Xt=a(([e])=>e,"first"),Ye=a(([,e])=>e,"second");function De({multiple:e,render:t,selectedIndexes:n,select:i}){return a(function(r,{locale:l,keyof:s=r instanceof Map?Xt:P,valueof:p=r instanceof Map?Ye:P,format:d=(A=>(w,y,j)=>A(s(w,y,j)))(de(l)),multiple:c,key:h,value:b,disabled:N=!1,sort:$,unique:g,...E}={}){if(typeof s!="function")throw new TypeError("keyof is not a function");if(typeof p!="function")throw new TypeError("valueof is not a function");if(typeof d!="function")throw new TypeError("format is not a function");e!==void 0&&(c=e),$=tt($);let A=+c;b===void 0&&(b=h!==void 0&&r instanceof Map?A>0?Array.from(h,S=>r.get(S)):r.get(h):void 0),g=!!g,r=K(r);let w=r.map((S,O)=>[s(S,O,r),O]);$!==void 0&&w.sort(([S],[O])=>$(S,O)),g&&(w=[...new Map(w.map(S=>[rt(S[0]),S])).values()]);const y=w.map(Ye);c===!0?A=Math.max(1,Math.min(10,y.length)):A>0?c=!0:(c=!1,A=void 0);const[j,m]=t(r,y,Xe(r,y,b,c,p),et(r,y,N,p),{...E,format:d,multiple:c,size:A});j.addEventListener("input",x),j.addEventListener("change",ne),j.addEventListener("submit",G);function x(S){if(S&&S.isTrusted&&j.removeEventListener("change",ne),c)b=n(m).map(O=>p(r[O],O,r));else{const O=nt(m);b=O<0?null:p(r[O],O,r)}}return o(x,"D"),a(x,"oninput"),x(),Object.defineProperty(j,"value",{get(){return b},set(S){if(c){const O=new Set(S);for(const M of m){const L=+M.value;i(M,O.has(p(r[L],L,r)))}}else m.value=y.find(O=>S===p(r[O],O,r));x()}})},"chooser")}o(De,"Le"),a(De,"createChooser");function Xe(e,t,n,i,r){const l=new Set(n===void 0?[]:i?K(n):[n]);if(!l.size)return()=>!1;const s=new Set;for(const p of t)l.has(r(e[p],p,e))&&s.add(p);return p=>s.has(p)}o(Xe,"it"),a(Xe,"maybeSelection");function et(e,t,n,i){if(typeof n=="boolean")return n;const r=new Set(K(n)),l=new Set;for(const s of t)r.has(i(e[s],s,e))&&l.add(s);return s=>l.has(s)}o(et,"ot"),a(et,"maybeDisabled");function tt(e){if(!(e===void 0||e===!1)){if(e===!0||e==="ascending")return me;if(e==="descending")return je;if(typeof e=="function")return e;throw new TypeError("sort is not a function")}}o(tt,"ut"),a(tt,"maybeSort");function nt(e){return e.value?+e.value:-1}o(nt,"st"),a(nt,"selectedIndex");function rt(e){return e!==null&&typeof e=="object"?e.valueOf():e}o(rt,"ft"),a(rt,"intern");function ze(e,t){return De({multiple:e,render(n,i,r,l,{format:s,label:p}){const d=v`<form class="inputs-3a86ea inputs-3a86ea-checkbox">
      ${z(p)}<div>
        ${i.map(c=>v`<label><input type=${t} disabled=${typeof l=="function"?l(c):l} name=input value=${c} checked=${r(c)}>${s(n[c],c,n)}`)}
      </div>
    </form>`;return[d,at(d.elements.input,e)]},selectedIndexes(n){return Array.from(n).filter(i=>i.checked).map(i=>+i.value)},select(n,i){n.checked=i}})}o(ze,"ze"),a(ze,"createCheckbox");const en=ze(!1,"radio"),tn=ze(!0,"checkbox");function it({label:e,value:t,values:n,disabled:i}={}){const r=v`<input class=inputs-3a86ea-input type=checkbox name=input disabled=${i}>`,l=v`<form class="inputs-3a86ea inputs-3a86ea-toggle">${z(e,r)}${r}`;return Object.defineProperty(l,"value",{get(){return n===void 0?r.checked:n[r.checked?0:1]},set(s){r.checked=n===void 0?!!s:s===n[0]}}),t!==void 0&&(l.value=t),l}o(it,"at"),a(it,"toggle");function at(e,t){return e===void 0?new nn(t?[]:null):typeof e.length>"u"?new(t?an:rn)(e):e}o(at,"dt"),a(at,"inputof$1");const ot=(oe=class{constructor(t){this._value=t}get value(){return this._value}set value(t){}*[Symbol.iterator](){}},o(oe,"ge"),oe);a(ot,"OptionZero");let nn=ot;const lt=(le=class{constructor(t){this._input=t}get value(){const{_input:t}=this;return t.checked?t.value:""}set value(t){const{_input:n}=this;n.checked||(n.checked=H(t)===n.value)}*[Symbol.iterator](){yield this._input}},o(le,"ve"),le);a(lt,"OptionOne");let rn=lt;const ut=(ue=class{constructor(t){this._input=t,this._value=t.checked?[t.value]:[]}get value(){return this._value}set value(t){const{_input:n}=this;n.checked||(n.checked=H(t)===n.value,this._value=n.checked?[n.value]:[])}*[Symbol.iterator](){yield this._input}},o(ue,"ke"),ue);a(ut,"MultipleOptionOne");let an=ut;function ve(e){if(e===void 0)return[null,null];const t=re();return[v`<datalist id=${t}>${Array.from(e,n=>v`<option value=${H(n)}>`)}`,t]}o(ve,"$e"),a(ve,"maybeDatalist");function Q(e,t,n,{validate:i=Oe,submit:r}={},{get:l=a(c=>c.value,"get"),set:s=a((c,h)=>c.value=H(h),"set"),same:p=a((c,h)=>c.value===h,"same"),after:d=a(c=>t.after(c),"after")}={}){r=r===!0?"Submit":r||null;const c=r?v`<button type=submit disabled>${r}`:null;r&&d(c),s(t,n),n=i(t)?l(t):void 0,e.addEventListener("submit",b),t.oninput=N;function h(){if(i(t))return n=l(t),!0}o(h,"$"),a(h,"update");function b($){G($),r&&(h()?(c.disabled=!0,ne($)):t.reportValidity())}o(b,"m"),a(b,"onsubmit");function N($){r?(c.disabled=p(t,n),$.stopPropagation()):h()||$.stopPropagation()}return o(N,"g"),a(N,"oninput"),Object.defineProperty(e,"value",{get(){return n},set($){s(t,$),h()}})}o(Q,"V"),a(Q,"createText");function Y({label:e,value:t="",type:n="text",placeholder:i,pattern:r,spellcheck:l,autocomplete:s,autocapitalize:p,min:d,max:c,minlength:h,maxlength:b,required:N=h>0,datalist:$,readonly:g,disabled:E,width:A,...w}={}){const[y,j]=ve($),m=v`<input
    type=${n}
    name=text
    list=${j}
    readonly=${g}
    disabled=${E}
    required=${N}
    min=${d}
    max=${c}
    minlength=${h}
    maxlength=${b}
    pattern=${r}
    spellcheck=${he(l)}
    autocomplete=${W(s)}
    autocapitalize=${W(p)}
    placeholder=${i}
  >`,x=v`<form class=inputs-3a86ea style=${I(A)}>
    ${z(e,m)}<div class=inputs-3a86ea-input>
      ${m}
    </div>${y}
  </form>`;return Q(x,m,t,w)}o(Y,"X"),a(Y,"text");function st(e){return Y({...e,type:"email"})}o(st,"pt"),a(st,"email");function ct(e){return Y({...e,type:"tel"})}o(ct,"ht"),a(ct,"tel");function ft(e){return Y({...e,type:"url"})}o(ft,"$t"),a(ft,"url");function dt(e){return Y({...e,type:"password"})}o(dt,"mt"),a(dt,"password");function he(e){return e==null?null:`${e}`}o(he,"me"),a(he,"truefalse");function W(e){return e==null?null:`${e===!1?"off":e===!0?"on":e}`}o(W,"W"),a(W,"onoff");function pt({label:e,value:t,required:n,datalist:i,readonly:r,disabled:l,width:s,...p}={}){const[d,c]=ve(i),h=re(),b=v`<input
    type=color
    name=text
    value=${t}
    id=${h}
    list=${c}
    readonly=${r}
    disabled=${l}
    required=${n}
  >`,N=v`<output
    for=${h}
  >`;N.value=b.value,b.addEventListener("input",()=>N.value=b.value);const $=v`<form class=inputs-3a86ea style=${I(s)}>
    ${z(e,b)}<div class=inputs-3a86ea-input>
      <div class=inputs-3a86ea-input>${b}${N}</div>
    </div>${d}
  </form>`;return Q($,b,t,p,{after:g=>b.parentNode.after(g)})}o(pt,"yt"),a(pt,"color");const on={type:"date",get:e=>e.valueAsDate,set:(e,t)=>e.value=Me(t),same:(e,t)=>+e.valueAsDate==+t,format:Me},ln={type:"datetime-local",get:e=>e.value?new Date(e.value):null,set:(e,t)=>e.value=qe(t),same:(e,t)=>+new Date(e.value)==+t,format:qe};function Le({label:e,min:t,max:n,required:i,readonly:r,disabled:l,width:s,value:p,...d}={},{type:c,format:h,...b}){const N=v`<input type=${c} name=date readonly=${r} disabled=${l} required=${i} min=${h(t)} max=${h(n)}>`,$=v`<form class=inputs-3a86ea style=${I(s)}>
    ${z(e,N)}<div class=inputs-3a86ea-input>
      ${N}
    </div>
  </form>`;return Q($,N,be(p),d,b)}o(Le,"Me"),a(Le,"createDate");function mt(e){return Le(e,on)}o(mt,"gt"),a(mt,"date");function vt(e){return Le(e,ln)}o(vt,"vt"),a(vt,"datetime");function be(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Je(e,null):e==null||isNaN(e=+e)?null:new Date(+e)}o(be,"ye"),a(be,"coerce");function Me(e){return(e=be(e))?e.toISOString().slice(0,10):e}o(Me,"Pe"),a(Me,"formatDate");function qe(e){return(e=be(e))?new Date(+e-e.getTimezoneOffset()*1e3*60).toISOString().slice(0,16):e}o(qe,"Ie"),a(qe,"formatDatetime");function ht(e,t){return(Array.isArray(e)?$t:gt)(e,t)}o(ht,"kt"),a(ht,"form");function bt(e){return v`<div>${e}`}o(bt,"Nt"),a(bt,"arrayTemplate");function $t(e,{template:t=bt}={}){e=[...e];let n=e.map(({value:i})=>i);return Object.defineProperty(t(e),"value",{get(){for(let i=0,r=e.length;i<r;++i){const l=e[i].value;Object.is(l,n[i])||(n=[...n],n[i]=l)}return n},set(i=[]){for(let r=0,l=e.length;r<l;++r)e[r].value=i[r]}})}o($t,"At"),a($t,"arrayForm");function yt(e){return v`<div>${Object.values(e)}`}o(yt,"xt"),a(yt,"objectTemplate");function gt(e,{template:t=yt}={}){e={...e};let n=Object.fromEntries(Object.entries(e).map(([i,{value:r}])=>[i,r]));return Object.defineProperty(t(e),"value",{get(){for(const i in n){const r=e[i].value;Object.is(r,n[i])||(n={...n},n[i]=r)}return n},set(i={}){for(const r in e)e[r].value=i[r]}})}o(gt,"St"),a(gt,"objectForm");function Ce(e){var i;const t=(i=class extends e{constructor(l){super(l.name,l.type,l.lastModified),Object.defineProperty(this,"_",{value:l}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=URL.createObjectURL(this._))}async blob(){return this._}async stream(){return this._.stream()}},o(i,"n"),i);a(t,"LocalFile");let n=t;return a(function({label:r,required:l,accept:s,capture:p,multiple:d,disabled:c,width:h,value:b,submit:N,...$}={}){const g=v`<input
      type=file
      name=file
      disabled=${c}
      required=${l}
      accept=${s}
      capture=${p}
      multiple=${d}
    >`,E=v`<form class=inputs-3a86ea style=${I(h)}>
      ${z(r,g)}<div class=inputs-3a86ea-input>
        ${g}
      </div>
    </form>`;return Q(E,g,void 0,$,{get:A=>d?Array.from(A.files,w=>new n(w)):A.files.length?new n(A.files[0]):null,set:()=>{},same:()=>!1})},"file")}o(Ce,"Et"),a(Ce,"fileOf");const $e=1e-6;function wt(e,t){return arguments.length<2&&(t=e,e=void 0),e===void 0&&(e=[]),Pe({extent:e},t)}o(wt,"Ot"),a(wt,"number");function kt(e=[0,1],t){return Pe({extent:e,range:!0},t)}o(kt,"Tt"),a(kt,"range");function Pe({extent:[e,t],range:n},{format:i=Ee,transform:r,invert:l,label:s="",value:p,step:d,disabled:c,placeholder:h,validate:b=Oe,width:N}={}){let $;if(typeof i!="function")throw new TypeError("format is not a function");(e==null||isNaN(e=+e))&&(e=-1/0),(t==null||isNaN(t=+t))&&(t=1/0),e>t&&([e,t]=[t,e],r===void 0&&(r=ye)),d!==void 0&&(d=+d);const g=v`<input type=number min=${isFinite(e)?e:null} max=${isFinite(t)?t:null} step=${d??"any"} name=number required placeholder=${h} oninput=${j} disabled=${c}>`;let E;if(n){if(r===void 0&&(r=P),typeof r!="function")throw new TypeError("transform is not a function");if(l===void 0&&(l=r.invert===void 0?Nt(r):r.invert),typeof l!="function")throw new TypeError("invert is not a function");let m=+r(e),x=+r(t);m>x&&([m,x]=[x,m]),n=v`<input type=range min=${isFinite(m)?m:null} max=${isFinite(x)?x:null} step=${d===void 0||r!==P&&r!==ye?"any":d} name=range oninput=${y} disabled=${c}>`,E=r===P?n:v`<input type=range min=${e} max=${t} step=${d===void 0?"any":d} name=range disabled=${c}>`}else n=null,r=l=P;const A=v`<form class=inputs-3a86ea style=${I(N)}>
    ${z(s,g)}<div class=inputs-3a86ea-input>
      ${g}${n}
    </div>
  </form>`;A.addEventListener("submit",G);function w(m){return E?(m=Math.max(e,Math.min(t,m)),isFinite(m)?(E.valueAsNumber=m,E.valueAsNumber):m):+m}o(w,"v"),a(w,"coerce");function y(m){const x=w(l(n.valueAsNumber));if(isFinite(x)&&(g.valueAsNumber=Math.max(e,Math.min(t,x)),b(g))){$=g.valueAsNumber,g.value=i($);return}m&&m.stopPropagation()}o(y,"w"),a(y,"onrange");function j(m){const x=w(g.valueAsNumber);if(isFinite(x)&&(n&&(n.valueAsNumber=r(x)),b(g))){$=x;return}m&&m.stopPropagation()}return o(j,"T"),a(j,"onnumber"),Object.defineProperty(A,"value",{get(){return $},set(m){m=w(m),isFinite(m)&&(g.valueAsNumber=m,n&&(n.valueAsNumber=r(m)),b(g)&&($=m,g.value=i($)))}}),p===void 0&&E&&(p=E.valueAsNumber),p!==void 0&&(A.value=p),A}o(Pe,"_e"),a(Pe,"createRange");function ye(e){return-e}o(ye,"be"),a(ye,"negate");function xt(e){return e*e}o(xt,"jt"),a(xt,"square");function Nt(e){return e===P||e===ye?e:e===Math.sqrt?xt:e===Math.log?Math.exp:e===Math.exp?Math.log:t=>At(e,t,t)}o(Nt,"Dt"),a(Nt,"solver");function At(e,t,n){let i=100,r,l,s;n=n===void 0?0:+n,t=+t;do l=e(n),s=e(n+$e),l===s&&(s=l+$e),n-=r=-1*$e*(l-t)/(l-s);while(i-- >0&&Math.abs(r)>$e);return i<0?NaN:n}o(At,"Lt"),a(At,"solve");function Ot(e,{locale:t,format:n=un(t),label:i,query:r="",placeholder:l="Search",columns:s=Te(e),spellcheck:p,autocomplete:d,autocapitalize:c,filter:h=s===void 0?Fe:St(s),datalist:b,disabled:N,required:$=!0,width:g}={}){let E=[];e=K(e),$=!!$;const[A,w]=ve(b),y=v`<input
    name=input
    type=search
    list=${w}
    disabled=${N}
    spellcheck=${he(p)}
    autocomplete=${W(d)}
    autocapitalize=${W(c)}
    placeholder=${l}
    value=${r}
    oninput=${x}
  >`,j=v`<output name=output>`,m=v`<form class=inputs-3a86ea style=${I(g)}>
    ${z(i,y)}<div class=inputs-3a86ea-input>
      ${y}${j}
    </div>${A}
  </form>`;m.addEventListener("submit",G);function x(){E=y.value||$?e.filter(h(y.value)):[],s!==void 0&&(E.columns=s),j.value=n(E.length)}return o(x,"N"),a(x,"oninput"),x(),Object.defineProperties(m,{value:{get(){return E}},query:{get(){return r},set(S){r=y.value=H(S),x()}}})}o(Ot,"zt"),a(Ot,"search");function Fe(e){const t=`${e}`.split(/\s+/g).filter(n=>n).map(_e);return n=>{if(n==null)return!1;if(typeof n=="object")e:for(const i of t){for(const r of Tt(n))if(i.test(r))continue e;return!1}else for(const i of t)if(!i.test(n))return!1;return!0}}o(Fe,"Ce"),a(Fe,"searchFilter");function St(e){return t=>{const n=`${t}`.split(/\s+/g).filter(i=>i).map(_e);return i=>{e:for(const r of n){for(const l of e)if(r.test(i[l]))continue e;return!1}return!0}}}o(St,"Mt"),a(St,"columnFilter");function*Tt(e){for(const t in e)yield e[t]}o(Tt,"Pt"),a(Tt,"valuesof");function _e(e){return new RegExp(`(?:^|[^\\p{L}-])${Et(e)}`,"iu")}o(_e,"Fe"),a(_e,"termFilter");function Et(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}o(Et,"It"),a(Et,"escapeRegExp");const un=ae(e=>{const t=ie(e);return n=>`${t(n)} result${n===1?"":"s"}`}),sn=De({render(e,t,n,i,{format:r,multiple:l,size:s,label:p,width:d}){const c=v`<select class=inputs-3a86ea-input disabled=${i===!0} multiple=${l} size=${s} name=input>
      ${t.map(h=>v`<option value=${h} disabled=${typeof i=="function"?i(h):!1} selected=${n(h)}>${H(r(e[h],h,e))}`)}
    </select>`;return[v`<form class=inputs-3a86ea style=${I(d)}>${z(p,c)}${c}`,c]},selectedIndexes(e){return Array.from(e.selectedOptions,t=>+t.value)},select(e,t){e.selected=t}}),jt=22;function Dt(e,t={}){const{rows:n=11.5,height:i,maxHeight:r=i===void 0?(n+1)*jt-1:void 0,width:l={},maxWidth:s}=t,p=re(),d=v`<form class="inputs-3a86ea inputs-3a86ea-table" id=${p} style=${{height:_(i),maxHeight:_(r),width:typeof l=="string"||typeof l=="number"?_(l):void 0,maxWidth:_(s)}}>`;return e&&typeof e.then=="function"?(Object.defineProperty(d,"value",{configurable:!0,set(){throw new Error("cannot set value while data is unresolved")}}),Promise.resolve(e).then(c=>Ie({root:d,id:p},c,t))):Ie({root:d,id:p},e,t),d}o(Dt,"Ft"),a(Dt,"table");function Ie({root:e,id:t},n,{columns:i=Te(n),value:r,required:l=!0,sort:s,reverse:p=!1,format:d,locale:c,align:h,header:b,rows:N=11.5,width:$={},multiple:g=!0,select:E=!0,layout:A}={}){i=i===void 0?Pt(n):K(i),A===void 0&&(A=i.length>=12?"auto":"fixed"),d=zt(d,n,i,c),h=Lt(h,n,i);let w=[],y=[],j=n[Symbol.iterator](),m=0,x=Ct(n),S=M(N*2);function O(){m>=0&&(m=j=void 0,y=Uint32Array.from(w=K(n),(u,f)=>f),x=y.length)}o(O,"x"),a(O,"materialize");function M(u){if(u=Math.floor(u),x!==void 0)return Math.min(x,u);if(u<=m)return u;for(;u>m;){const{done:f,value:k}=j.next();if(f)return x=m;y.push(m++),w.push(k)}return m}o(M,"E"),a(M,"minlengthof");let L=null,B=!1,T=new Set,U=null,R=null;const q=v`<tbody>`,Rt=v`<tr><td>${E?v`<input type=${g?"checkbox":"radio"} name=${g?null:"radio"}>`:null}</td>${i.map(()=>v`<td>`)}`,se=v`<tr><th>${E?v`<input type=checkbox onclick=${Be} disabled=${!g}>`:null}</th>${i.map(u=>v`<th title=${u} onclick=${f=>xe(f,u)}><span></span>${b&&u in b?b[u]:u}</th>`)}</tr>`;e.appendChild(v.fragment`<table style=${{tableLayout:A}}>
  <thead>${M(1)||i.length?se:null}</thead>
  ${q}
</table>
<style>${i.map((u,f)=>{const k=[];if(h[u]!=null&&k.push(`text-align:${h[u]}`),$[u]!=null&&k.push(`max-width:${_($[u])}; max-width:${_($[u])}`),k.length)return`#${t} tr>:nth-child(${f+2}){${k.join(";")}}`}).filter(P).join(`
`)}</style>`);function ce(u,f){if(m===u){for(;u<f;++u)we(j.next().value,u);m=f}else for(let k;u<f;++u)k=y[u],we(w[k],k)}o(ce,"fe"),a(ce,"appendRows");function we(u,f){const k=Rt.cloneNode(!0),D=X(k);if(D!=null&&(D.onclick=Ve,D.checked=T.has(f),D.value=f),u!=null)for(let Z=0;Z<i.length;++Z){let fe=i[Z],F=u[fe];J(F)&&(F=d[fe](F,f,n),F instanceof Node||(F=document.createTextNode(F)),k.childNodes[Z+1].appendChild(F))}q.append(k)}o(we,"Ne"),a(we,"appendRow");function V(u){O();let f=y.indexOf(u);if(f<q.childNodes.length){const k=q.childNodes[f];X(k).checked=!1}T.delete(u)}o(V,"B"),a(V,"unselect");function ee(u){O();let f=y.indexOf(u);if(f<q.childNodes.length){const k=q.childNodes[f];X(k).checked=!0}T.add(u)}o(ee,"ee"),a(ee,"select");function*ke(u,f){if(O(),u=y.indexOf(u),f=y.indexOf(f),u<f)for(;u<=f;)yield y[u++];else for(;f<=u;)yield y[f++]}o(ke,"Ae"),a(ke,"range");function We(u){return u[Symbol.iterator]().next().value}o(We,"Ge"),a(We,"first");function Be(u){if(O(),this.checked){T=new Set(y);for(const f of q.childNodes)X(f).checked=!0}else{for(let f of T)V(f);U=R=null,u.detail&&u.currentTarget.blur()}te()}o(Be,"Je"),a(Be,"reselectAll");function Ve(u){O();let f=+this.value;if(g)if(u.shiftKey){if(U===null)U=T.size?We(T):y[0];else for(let k of ke(U,R))V(k);R=f;for(let k of ke(U,R))ee(k)}else U=R=f,T.has(f)?(V(f),U=R=null,u.detail&&u.currentTarget.blur()):ee(f);else{for(let k of T)V(k);ee(f)}te()}o(Ve,"Qe"),a(Ve,"reselect");function xe(u,f){O();const k=u.currentTarget;let D;if(L===k&&u.metaKey)ge(L).textContent="",L=null,B=!1,D=me;else{L===k?B=!B:(L&&(ge(L).textContent=""),L=k,B=u.altKey);const Z=B?je:me;D=a((fe,F)=>Z(w[fe][f],w[F][f]),"compare"),ge(k).textContent=B?"\u25BE":"\u25B4"}for(y.sort(D),T=new Set(Array.from(T).sort(D)),e.scrollTo(e.scrollLeft,0);q.firstChild;)q.firstChild.remove();ce(0,S=M(N*2)),U=R=null,te()}o(xe,"xe"),a(xe,"resort");function te(){const u=X(se);u!=null&&(u.disabled=!g&&!T.size,u.indeterminate=g&&T.size&&T.size!==x,u.checked=T.size,r=void 0)}if(o(te,"te"),a(te,"reinput"),e.addEventListener("scroll",()=>{e.scrollHeight-e.scrollTop<N*jt*1.5&&S<M(S+1)&&ce(S,S=M(S+N))}),s===void 0&&p&&(O(),y.reverse()),r!==void 0){if(O(),g){const u=new Set(r);T=new Set(y.filter(f=>u.has(w[f])))}else{const u=w.indexOf(r);T=u<0?new Set:new Set([u])}te()}if(M(1)?ce(0,S):q.append(v`<tr>${i.length?v`<td>`:null}<td rowspan=${i.length} style="padding-left: var(--length3); font-style: italic;">No results.</td></tr>`),s!==void 0){let u=i.indexOf(s);u>=0&&(p&&(L=se.childNodes[u+1]),xe({currentTarget:se.childNodes[u+1]},i[u]))}return Object.defineProperty(e,"value",{get(){if(r===void 0)if(O(),g)r=Array.from(l&&T.size===0?y:T,u=>w[u]),r.columns=i;else if(T.size){const[u]=T;r=w[u]}else r=null;return r},set(u){if(O(),g){const f=new Set(u),k=new Set(y.filter(D=>f.has(w[D])));for(const D of T)k.has(D)||V(D);for(const D of k)T.has(D)||ee(D)}else{const f=w.indexOf(u);T=f<0?new Set:new Set([f])}r=void 0}})}o(Ie,"He"),a(Ie,"initialize");function X(e){return e.firstChild.firstChild}o(X,"Y"),a(X,"inputof");function ge(e){return e.firstChild}o(ge,"we"),a(ge,"orderof");function zt(e={},t,n,i){const r=Object.create(null);for(const l of n){if(l in e){r[l]=e[l];continue}switch(Ue(t,l)){case"number":r[l]=ie(i);break;case"date":r[l]=pe;break;default:r[l]=de(i);break}}return r}o(zt,"Rt"),a(zt,"formatof");function Lt(e={},t,n){const i=Object.create(null);for(const r of n)r in e?i[r]=e[r]:Ue(t,r)==="number"&&(i[r]="right");return i}o(Lt,"Ht"),a(Lt,"alignof");function Ue(e,t){if(Mt(e))return qt(e,t);for(const n of e){if(n==null)continue;const i=n[t];if(i!=null)return typeof i=="number"?"number":i instanceof Date?"date":void 0}}o(Ue,"Ke"),a(Ue,"type");function Mt(e){return typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}o(Mt,"Kt"),a(Mt,"isArrowTable");function qt(e,t){const n=e.schema.fields.find(i=>i.name===t);switch(n?.type.typeId){case 8:case 10:return n.type.unit===1?"date":"number";case 2:case 3:case 7:case 9:return"number"}}o(qt,"qt"),a(qt,"getArrowType");function Ct(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.numRows=="function")return e.numRows()}o(Ct,"Ut"),a(Ct,"lengthof");function Pt(e){const t=new Set;for(const n of e)for(const i in n)t.add(i);return Array.from(t)}o(Pt,"Wt"),a(Pt,"columnsof");function Ft({value:e="",label:t,placeholder:n,spellcheck:i,autocomplete:r,autocapitalize:l,rows:s=3,minlength:p,maxlength:d,required:c=p>0,readonly:h,disabled:b,monospace:N=!1,resize:$=s<12,width:g,...E}={}){const A=v`<textarea
    name=text
    readonly=${h}
    disabled=${b}
    required=${c}
    rows=${s}
    minlength=${p}
    maxlength=${d}
    spellcheck=${he(i)}
    autocomplete=${W(r)}
    autocapitalize=${W(l)}
    placeholder=${n}
    onkeydown=${y}
    style=${{width:g,fontFamily:N?"var(--monospace, monospace)":null,resize:$?null:"none"}}
  >`,w=v`<form class="inputs-3a86ea inputs-3a86ea-textarea" style=${I(g)}>
    ${z(t,A)}<div>
      ${A}
    </div>
  </form>`;function y(j){if(E.submit&&j.key==="Enter"&&(j.metaKey||j.ctrlKey))return w.dispatchEvent(new Event("submit",Ae))}return o(y,"w"),a(y,"onkeydown"),Q(w,A,e,E)}o(Ft,"Bt"),a(Ft,"textarea");function _t(e){const t=new EventTarget;return t.value=e,t}o(_t,"Gt"),a(_t,"input");function Re(e){return new Promise(t=>{requestAnimationFrame(()=>{const n=e.closest(".observablehq");if(!n)return t();const i=new MutationObserver(()=>{n.contains(e)||(i.disconnect(),t())});i.observe(n,{childList:!0})})})}o(Re,"qe"),a(Re,"disposal");function It(e,t,n=Re(e)){const i=He(t),r=a(()=>Ke(e,t),"onsource"),l=a(()=>(Ke(t,e),t.dispatchEvent(new Event(i,Ae))),"ontarget");return r(),e.addEventListener(He(e),l),t.addEventListener(i,r),n.then(()=>t.removeEventListener(i,r)),e}o(It,"Jt"),a(It,"bind");function Ut(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}o(Ut,"Qt"),a(Ut,"get");function Ke(e,t){const n=Ut(t);switch(e.type){case"range":case"number":e.valueAsNumber=n;break;case"date":e.valueAsDate=n;break;case"checkbox":e.checked=n;break;case"file":e.multiple?e.files=n:e.files=[n];break;default:e.value=n;break}}o(Ke,"Ue"),a(Ke,"set");function He(e){switch(e.type){case"button":case"submit":return"click";case"file":return"change";default:return"input"}}o(He,"We"),a(He,"eventof");const cn=Ce(Ht);export{It as bind,Qe as button,tn as checkbox,pt as color,mt as date,vt as datetime,Re as disposal,st as email,cn as file,Ce as fileOf,ht as form,Qt as formatAuto,pe as formatDate,de as formatLocaleAuto,ie as formatLocaleNumber,Yt as formatNumber,Ee as formatTrim,_t as input,wt as number,dt as password,en as radio,kt as range,Ot as search,Fe as searchFilter,sn as select,Dt as table,ct as tel,Y as text,Ft as textarea,it as toggle,ft as url};
